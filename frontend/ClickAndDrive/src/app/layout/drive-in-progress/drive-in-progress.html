<app-map-view size="small">
    <!-- Ride data (Origin/Destination) -->
    <div class="ride-data">
        <p>Origin: <span class="origin">Bulevar oslobodjenja 45</span></p>
        <p>Destination: <span class="destination">Cara Du≈°ana 12</span></p>
        <p>Estimated time:</p>
        <p class="time">20 MINUTES</p>
    </div>

    <!-- POST-RIDE NOTIFICATION  -->
    @if (showFinishNotification()) {
        <div class="notification-overlay">
            <div class="notification-toast">
                <p>Ride successfully finished and paid!</p>
                <div class="toast-actions">
                    <button class="finish" (click)="openRating()">Rate Ride</button>
                    <button class="stop" (click)="resetToOrder()">Order New</button>
                </div>
            </div>
        </div>
    }
</app-map-view>

<div class="buttons">
    <!--  DRIVER  -->
    @if (auth.userType() === 'driver') {
        <button class="stop">Stop drive</button>
        <button class="finish">Finish drive</button>
    }

    <!--  PASSENGER  -->
    @if (auth.userType() === 'user') {
        @if (auth.inDrive()) {
            <button class="report" (click)="onReport()">REPORT</button>
            <button class="finish" (click)="onFinishPassenger()" style="margin-top: 10px;">Simulate End</button>
        }
    }
</div>